# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# 1.4.0 (2019-05-20)


### Bug Fixes

* **$server:** add dummy relation 'item_type_attribute' data for 'image' item and 'video' item ([28003ca](https://github.com/CoachingCloud/automated-push-content/commit/28003ca))
* **$server:** add guard to ensure only apply hot fix code once, fix issue caused by shallow copy when create sub context in jsonApiFormatter.js ([252d8c8](https://github.com/CoachingCloud/automated-push-content/commit/252d8c8))
* **$server:** add logger lib in mixin ([7d410f6](https://github.com/CoachingCloud/automated-push-content/commit/7d410f6))
* **$server:** add rules eslint and refactor code ([383b31f](https://github.com/CoachingCloud/automated-push-content/commit/383b31f))
* **$server:** add unique constraint for the relation of item_typeId and attributeId in model 'item_attribute_template' ([0ab2436](https://github.com/CoachingCloud/automated-push-content/commit/0ab2436))
* **$server:** combine all functions about uploading file into one file controllers/upload/uploadFile.js and fix multer issue ([146e3da](https://github.com/CoachingCloud/automated-push-content/commit/146e3da)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** convert charset and collation of database, 'item' table and 'item_attributes' column to 'utf8mb4' in order to allow containing unicode character has length greater than 3 bytes. ([f05772e](https://github.com/CoachingCloud/automated-push-content/commit/f05772e))
* **$server:** convert image file name to image url in Library.afterRemote('*.__get__workbooks') ([09186f8](https://github.com/CoachingCloud/automated-push-content/commit/09186f8))
* **$server:** declare 'library' model has HasManyThrough polymorphic relation with 'workbook' model via intervening model is 'library_workbook' ([4fcf5b3](https://github.com/CoachingCloud/automated-push-content/commit/4fcf5b3))
* **$server:** docker build issue ([7afac19](https://github.com/CoachingCloud/automated-push-content/commit/7afac19))
* **$server:** error 'Duplicate item_idx key in page_item model when creating a new item' ([cf55539](https://github.com/CoachingCloud/automated-push-content/commit/cf55539))
* **$server:** fix 'support calculate meta fields (total items, total pages, etc) from level 2 query'. Switch to use sharedMethod instead ([98cf33c](https://github.com/CoachingCloud/automated-push-content/commit/98cf33c))
* **$server:** fix error when deep copy of array of objects are kind of function ([1e07ffc](https://github.com/CoachingCloud/automated-push-content/commit/1e07ffc))
* **$server:** fix error when resonpse message contain data property is an error type + fix error 'unable to determine primary resource if query collection resources' ([001fb13](https://github.com/CoachingCloud/automated-push-content/commit/001fb13))
* **$server:** Fix issue 'call unstable between internal and public API URL in service worker ([2540797](https://github.com/CoachingCloud/automated-push-content/commit/2540797)), closes [#255](https://github.com/CoachingCloud/automated-push-content/issues/255)
* **$server:** fix issue 'Can not create a chapter in a workbook due to duplicate display_index key' ([9538bba](https://github.com/CoachingCloud/automated-push-content/commit/9538bba))
* **$server:** fix issue 'unable query target model in hasManyThrough relationship' ([ce550bd](https://github.com/CoachingCloud/automated-push-content/commit/ce550bd))
* **$server:** fix issue in upload api ([bbf6917](https://github.com/CoachingCloud/automated-push-content/commit/bbf6917))
* **$server:** fix issues ([f408b53](https://github.com/CoachingCloud/automated-push-content/commit/f408b53))
* **$server:** handle if passing model name instead of model instance in many-to-many.fixtures.js ([d6913a0](https://github.com/CoachingCloud/automated-push-content/commit/d6913a0))
* **$server:** handle issue if unable to transform file name to file url ([3770bd4](https://github.com/CoachingCloud/automated-push-content/commit/3770bd4))
* **$server:** hot fix issue 'unsupport filter query of hasMany polymorphic relation' ([7609017](https://github.com/CoachingCloud/automated-push-content/commit/7609017)), closes [#123](https://github.com/CoachingCloud/automated-push-content/issues/123)
* **$server:** hot fix issue missing one slash after host url ([954801e](https://github.com/CoachingCloud/automated-push-content/commit/954801e))
* **$server:** issue 'unable to set up the relationship between item and page' ([1d8d3a2](https://github.com/CoachingCloud/automated-push-content/commit/1d8d3a2))
* **$server:** Issue duplicate query item's attributes when calling api query list of items has 'limit' filter parameter ([8cebae4](https://github.com/CoachingCloud/automated-push-content/commit/8cebae4)), closes [#141](https://github.com/CoachingCloud/automated-push-content/issues/141)
* **$server:** lock version of loopback packages ([728a521](https://github.com/CoachingCloud/automated-push-content/commit/728a521))
* **$server:** miss converting env value from string to number when reading in .env file ([478aa14](https://github.com/CoachingCloud/automated-push-content/commit/478aa14))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([bb6a548](https://github.com/CoachingCloud/automated-push-content/commit/bb6a548))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([a67861a](https://github.com/CoachingCloud/automated-push-content/commit/a67861a))
* **$server:** receive uploaded filename via req.files instead of using global variable in callback function ([a886d86](https://github.com/CoachingCloud/automated-push-content/commit/a886d86))
* **$server:** remove User built-in model, replace by custom user model ([dc116ab](https://github.com/CoachingCloud/automated-push-content/commit/dc116ab))
* **$server:** script generating dummy data ([94b8362](https://github.com/CoachingCloud/automated-push-content/commit/94b8362))
* **$server:** setup to deny unauthenticated requests to /api/users/me as default ([22ca6b3](https://github.com/CoachingCloud/automated-push-content/commit/22ca6b3))
* **$server:** transform base file name to relative file path ([0c5c17a](https://github.com/CoachingCloud/automated-push-content/commit/0c5c17a))
* **$server:** use new Map() for fixed list of item_types and attributes to maintain the order of elements in list ([d9f23e0](https://github.com/CoachingCloud/automated-push-content/commit/d9f23e0))


### Features

* **$server:** accept random pattern is an array of data object (apply for 'item' model) ([11c4b96](https://github.com/CoachingCloud/automated-push-content/commit/11c4b96)), closes [#109](https://github.com/CoachingCloud/automated-push-content/issues/109)
* **$server:** add 'cc_hook_options' object in oder to pass options between remote hook and operation hook ([11562f6](https://github.com/CoachingCloud/automated-push-content/commit/11562f6))
* **$server:** add 'is_active=true' filter query in GET requests as default ([2cd21ab](https://github.com/CoachingCloud/automated-push-content/commit/2cd21ab)), closes [#148](https://github.com/CoachingCloud/automated-push-content/issues/148)
* **$server:** add 'number_records' option in /api/admin/generate_dummy_data ([8e49d64](https://github.com/CoachingCloud/automated-push-content/commit/8e49d64))
* **$server:** add additional 'attribute' object's fields (code, label, data_type) in 'item_attributes' property in 'item' http response object ([dd13f3f](https://github.com/CoachingCloud/automated-push-content/commit/dd13f3f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add api 'move chapter position within a chapter' (/api/workbooks/1/chapters/3/move/<dest_pos_chapter>) ([7063bc0](https://github.com/CoachingCloud/automated-push-content/commit/7063bc0)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** add config for using lerna tool and yarn workspace ([f0ca848](https://github.com/CoachingCloud/automated-push-content/commit/f0ca848))
* **$server:** add constraint of unique display position for chapters within one workbook ([7d11532](https://github.com/CoachingCloud/automated-push-content/commit/7d11532))
* **$server:** add extra 'type_inspector' property in 'schema' property in json api response if 'schema' property is object type or array of objects type ([69d9c7f](https://github.com/CoachingCloud/automated-push-content/commit/69d9c7f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add included property in jsonapi response ([bc73c31](https://github.com/CoachingCloud/automated-push-content/commit/bc73c31)), closes [#122](https://github.com/CoachingCloud/automated-push-content/issues/122)
* **$server:** add option 'only_erase_database' in api /api/admin/generate_dummy_data ([472906a](https://github.com/CoachingCloud/automated-push-content/commit/472906a))
* **$server:** add POST /api/admin/create_admin_account ([ac8ffdb](https://github.com/CoachingCloud/automated-push-content/commit/ac8ffdb))
* **$server:** add tracking createdAt and updatedAt for all models, place them in meta field of single resource data ([a690389](https://github.com/CoachingCloud/automated-push-content/commit/a690389)), closes [#126](https://github.com/CoachingCloud/automated-push-content/issues/126)
* **$server:** add validation on uploading files for item ([7cf8261](https://github.com/CoachingCloud/automated-push-content/commit/7cf8261))
* **$server:** add X-Request-ID in HTTP header ([fe66e65](https://github.com/CoachingCloud/automated-push-content/commit/fe66e65)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** allow update a part (rather than entire) in tree position levels starting from workbook - chapter(s) - page(s) - item(s) ([21b9efb](https://github.com/CoachingCloud/automated-push-content/commit/21b9efb)), closes [#44](https://github.com/CoachingCloud/automated-push-content/issues/44)
* **$server:** attach common style attributes for all items ([6e77a92](https://github.com/CoachingCloud/automated-push-content/commit/6e77a92))
* **$server:** attach request_id in log record and change format in errorLogger.js ([73ff0a8](https://github.com/CoachingCloud/automated-push-content/commit/73ff0a8)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** automatic sharing workbook ([b97d9ab](https://github.com/CoachingCloud/automated-push-content/commit/b97d9ab)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** by default, add default style attribute value into item if this item is missing any of required style attributes are associated with its item type ([5f77214](https://github.com/CoachingCloud/automated-push-content/commit/5f77214))
* **$server:** change host domain of image reflected to 'cc-source' in http header ([821c954](https://github.com/CoachingCloud/automated-push-content/commit/821c954))
* **$server:** change uuid to cuid because uuid cause problems when the ID generation is distributed between lots of machines in the same millisecond ([f0bf0cc](https://github.com/CoachingCloud/automated-push-content/commit/f0bf0cc)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** clone current api docs website for client side in order to deploy a new instance of docs website for server side ([a686a73](https://github.com/CoachingCloud/automated-push-content/commit/a686a73))
* **$server:** create abstract function of MOVING position, support move position of dynamic model including a chapter/page/item ([4e99ab9](https://github.com/CoachingCloud/automated-push-content/commit/4e99ab9)), closes [#129](https://github.com/CoachingCloud/automated-push-content/issues/129)
* **$server:** declare admin model ([be07177](https://github.com/CoachingCloud/automated-push-content/commit/be07177))
* **$server:** define a mixin that handles 'deleteById' operation hook ([abf7464](https://github.com/CoachingCloud/automated-push-content/commit/abf7464)), closes [#144](https://github.com/CoachingCloud/automated-push-content/issues/144)
* **$server:** define abstract 'util' model and create common class for handling upload file of all target models ([4b7f10b](https://github.com/CoachingCloud/automated-push-content/commit/4b7f10b)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** define validation rules of 'boolean' type and 'array' type using when creating a new item attribute ([447ded1](https://github.com/CoachingCloud/automated-push-content/commit/447ded1))
* **$server:** enable image converting process in `upload file` API. The response will contains URLs of original file along with desktop version file and mobile version file ([89dfe03](https://github.com/CoachingCloud/automated-push-content/commit/89dfe03))
* **$server:** enable item attributes' validation on POST /api/pages/{page_id}/items ([754364b](https://github.com/CoachingCloud/automated-push-content/commit/754364b))
* **$server:** generate dummy data for 'image' item and 'video' item + add 'display_index' field in response ([f2bbdef](https://github.com/CoachingCloud/automated-push-content/commit/f2bbdef)), closes [#70](https://github.com/CoachingCloud/automated-push-content/issues/70)
* **$server:** implement 'move_position' service ([a41b13e](https://github.com/CoachingCloud/automated-push-content/commit/a41b13e))
* **$server:** implement 'move_position' service that support batch moving many positions at a time ([d3907cd](https://github.com/CoachingCloud/automated-push-content/commit/d3907cd))
* **$server:** implement api 'Create new item at specific position in a page' ([523e43e](https://github.com/CoachingCloud/automated-push-content/commit/523e43e)), closes [#131](https://github.com/CoachingCloud/automated-push-content/issues/131)
* **$server:** implement api 'duplicate an item in a page' ([f1f7d4a](https://github.com/CoachingCloud/automated-push-content/commit/f1f7d4a)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** implement api 'moving position of a page/item within a corresponding chapter/page' ([6f7cf05](https://github.com/CoachingCloud/automated-push-content/commit/6f7cf05))
* **$server:** implement async/await for generating dummy data functions ([a1d785a](https://github.com/CoachingCloud/automated-push-content/commit/a1d785a)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** implement search API on workbook title/description ([8a04a9e](https://github.com/CoachingCloud/automated-push-content/commit/8a04a9e))
* **$server:** in page.js, define function subscribe Page.beforeRemote('prototype.__create__items'...) for handling POST api/pages/<page_id>/items API ([d99176b](https://github.com/CoachingCloud/automated-push-content/commit/d99176b))
* **$server:** in upload file api, add supporting upload raw file (not belong to any object like an item/ a workbook) and return raw file url ([aec38c4](https://github.com/CoachingCloud/automated-push-content/commit/aec38c4)), closes [#140](https://github.com/CoachingCloud/automated-push-content/issues/140)
* **$server:** init rabbitmq service ([e2365b6](https://github.com/CoachingCloud/automated-push-content/commit/e2365b6))
* **$server:** multiple polymorphic relations are library and workbook, user and workbook via workbook_owner model ([69faf67](https://github.com/CoachingCloud/automated-push-content/commit/69faf67))
* **$server:** Redefine one-many relationship between each pair as workbook-chapter-page ([0eead63](https://github.com/CoachingCloud/automated-push-content/commit/0eead63)), closes [#49](https://github.com/CoachingCloud/automated-push-content/issues/49)
* **$server:** replaced by hot fix code after installing npm modules in install_npm_modules.js ([7322437](https://github.com/CoachingCloud/automated-push-content/commit/7322437))
* **$server:** search in hierarchical data, applied for competency keywords ([accb2b4](https://github.com/CoachingCloud/automated-push-content/commit/accb2b4))
* **$server:** set timestamp data ([c0c948a](https://github.com/CoachingCloud/automated-push-content/commit/c0c948a))
* **$server:** setup workbook model ([d8c14f7](https://github.com/CoachingCloud/automated-push-content/commit/d8c14f7)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** sharing workbook feature ([85c3da8](https://github.com/CoachingCloud/automated-push-content/commit/85c3da8)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** support 'reset_al' option in /api/admin/create_dummy_data enable to reset all built-in models ([b021e8d](https://github.com/CoachingCloud/automated-push-content/commit/b021e8d))
* **$server:** support calculate meta fields (total items, total pages, etc) from level 2 query ([b5707d9](https://github.com/CoachingCloud/automated-push-content/commit/b5707d9))
* **$server:** support determine attribute_id as 'fieldname' in upload file property ([893968f](https://github.com/CoachingCloud/automated-push-content/commit/893968f))
* **$server:** support override property value in source item in api 'duplicate an item in a page' ([cc872f4](https://github.com/CoachingCloud/automated-push-content/commit/cc872f4)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** support passing item attributes as query params and upload file(s) when call api of creating an item ([92c7fe3](https://github.com/CoachingCloud/automated-push-content/commit/92c7fe3))
* **$server:** support query user owner of a workbook. It just support via /workbook/:id/user but via include[filter]=user, so it will need to improve later ([6282b29](https://github.com/CoachingCloud/automated-push-content/commit/6282b29))
* **$server:** support to receive additional metadata fields in upload file req ([60120f6](https://github.com/CoachingCloud/automated-push-content/commit/60120f6))
* **$server:** support transform file name to file URL for an array of items in response ([9298736](https://github.com/CoachingCloud/automated-push-content/commit/9298736))
* **$server:** swap chapter position within a workbook, for example /api/workbooks/1/chapters/3/swap/4 ([5004466](https://github.com/CoachingCloud/automated-push-content/commit/5004466)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** write script to generate large number of dummy items for developing and testing purpose ([29ddff7](https://github.com/CoachingCloud/automated-push-content/commit/29ddff7)), closes [#45](https://github.com/CoachingCloud/automated-push-content/issues/45)





# 1.3.0 (2019-05-20)


### Bug Fixes

* **$server:** add dummy relation 'item_type_attribute' data for 'image' item and 'video' item ([28003ca](https://github.com/CoachingCloud/automated-push-content/commit/28003ca))
* **$server:** add guard to ensure only apply hot fix code once, fix issue caused by shallow copy when create sub context in jsonApiFormatter.js ([252d8c8](https://github.com/CoachingCloud/automated-push-content/commit/252d8c8))
* **$server:** add logger lib in mixin ([7d410f6](https://github.com/CoachingCloud/automated-push-content/commit/7d410f6))
* **$server:** add rules eslint and refactor code ([383b31f](https://github.com/CoachingCloud/automated-push-content/commit/383b31f))
* **$server:** add unique constraint for the relation of item_typeId and attributeId in model 'item_attribute_template' ([0ab2436](https://github.com/CoachingCloud/automated-push-content/commit/0ab2436))
* **$server:** combine all functions about uploading file into one file controllers/upload/uploadFile.js and fix multer issue ([146e3da](https://github.com/CoachingCloud/automated-push-content/commit/146e3da)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** convert charset and collation of database, 'item' table and 'item_attributes' column to 'utf8mb4' in order to allow containing unicode character has length greater than 3 bytes. ([f05772e](https://github.com/CoachingCloud/automated-push-content/commit/f05772e))
* **$server:** convert image file name to image url in Library.afterRemote('*.__get__workbooks') ([09186f8](https://github.com/CoachingCloud/automated-push-content/commit/09186f8))
* **$server:** declare 'library' model has HasManyThrough polymorphic relation with 'workbook' model via intervening model is 'library_workbook' ([4fcf5b3](https://github.com/CoachingCloud/automated-push-content/commit/4fcf5b3))
* **$server:** docker build issue ([7afac19](https://github.com/CoachingCloud/automated-push-content/commit/7afac19))
* **$server:** error 'Duplicate item_idx key in page_item model when creating a new item' ([cf55539](https://github.com/CoachingCloud/automated-push-content/commit/cf55539))
* **$server:** fix 'support calculate meta fields (total items, total pages, etc) from level 2 query'. Switch to use sharedMethod instead ([98cf33c](https://github.com/CoachingCloud/automated-push-content/commit/98cf33c))
* **$server:** fix error when deep copy of array of objects are kind of function ([1e07ffc](https://github.com/CoachingCloud/automated-push-content/commit/1e07ffc))
* **$server:** fix error when resonpse message contain data property is an error type + fix error 'unable to determine primary resource if query collection resources' ([001fb13](https://github.com/CoachingCloud/automated-push-content/commit/001fb13))
* **$server:** Fix issue 'call unstable between internal and public API URL in service worker ([2540797](https://github.com/CoachingCloud/automated-push-content/commit/2540797)), closes [#255](https://github.com/CoachingCloud/automated-push-content/issues/255)
* **$server:** fix issue 'Can not create a chapter in a workbook due to duplicate display_index key' ([9538bba](https://github.com/CoachingCloud/automated-push-content/commit/9538bba))
* **$server:** fix issue 'unable query target model in hasManyThrough relationship' ([ce550bd](https://github.com/CoachingCloud/automated-push-content/commit/ce550bd))
* **$server:** fix issue in upload api ([bbf6917](https://github.com/CoachingCloud/automated-push-content/commit/bbf6917))
* **$server:** fix issues ([f408b53](https://github.com/CoachingCloud/automated-push-content/commit/f408b53))
* **$server:** handle if passing model name instead of model instance in many-to-many.fixtures.js ([d6913a0](https://github.com/CoachingCloud/automated-push-content/commit/d6913a0))
* **$server:** handle issue if unable to transform file name to file url ([3770bd4](https://github.com/CoachingCloud/automated-push-content/commit/3770bd4))
* **$server:** hot fix issue 'unsupport filter query of hasMany polymorphic relation' ([7609017](https://github.com/CoachingCloud/automated-push-content/commit/7609017)), closes [#123](https://github.com/CoachingCloud/automated-push-content/issues/123)
* **$server:** hot fix issue missing one slash after host url ([954801e](https://github.com/CoachingCloud/automated-push-content/commit/954801e))
* **$server:** issue 'unable to set up the relationship between item and page' ([1d8d3a2](https://github.com/CoachingCloud/automated-push-content/commit/1d8d3a2))
* **$server:** Issue duplicate query item's attributes when calling api query list of items has 'limit' filter parameter ([8cebae4](https://github.com/CoachingCloud/automated-push-content/commit/8cebae4)), closes [#141](https://github.com/CoachingCloud/automated-push-content/issues/141)
* **$server:** lock version of loopback packages ([728a521](https://github.com/CoachingCloud/automated-push-content/commit/728a521))
* **$server:** miss converting env value from string to number when reading in .env file ([478aa14](https://github.com/CoachingCloud/automated-push-content/commit/478aa14))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([bb6a548](https://github.com/CoachingCloud/automated-push-content/commit/bb6a548))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([a67861a](https://github.com/CoachingCloud/automated-push-content/commit/a67861a))
* **$server:** receive uploaded filename via req.files instead of using global variable in callback function ([a886d86](https://github.com/CoachingCloud/automated-push-content/commit/a886d86))
* **$server:** remove User built-in model, replace by custom user model ([dc116ab](https://github.com/CoachingCloud/automated-push-content/commit/dc116ab))
* **$server:** script generating dummy data ([94b8362](https://github.com/CoachingCloud/automated-push-content/commit/94b8362))
* **$server:** setup to deny unauthenticated requests to /api/users/me as default ([22ca6b3](https://github.com/CoachingCloud/automated-push-content/commit/22ca6b3))
* **$server:** transform base file name to relative file path ([0c5c17a](https://github.com/CoachingCloud/automated-push-content/commit/0c5c17a))
* **$server:** use new Map() for fixed list of item_types and attributes to maintain the order of elements in list ([d9f23e0](https://github.com/CoachingCloud/automated-push-content/commit/d9f23e0))


### Features

* **$server:** accept random pattern is an array of data object (apply for 'item' model) ([11c4b96](https://github.com/CoachingCloud/automated-push-content/commit/11c4b96)), closes [#109](https://github.com/CoachingCloud/automated-push-content/issues/109)
* **$server:** add 'cc_hook_options' object in oder to pass options between remote hook and operation hook ([11562f6](https://github.com/CoachingCloud/automated-push-content/commit/11562f6))
* **$server:** add 'is_active=true' filter query in GET requests as default ([2cd21ab](https://github.com/CoachingCloud/automated-push-content/commit/2cd21ab)), closes [#148](https://github.com/CoachingCloud/automated-push-content/issues/148)
* **$server:** add 'number_records' option in /api/admin/generate_dummy_data ([8e49d64](https://github.com/CoachingCloud/automated-push-content/commit/8e49d64))
* **$server:** add additional 'attribute' object's fields (code, label, data_type) in 'item_attributes' property in 'item' http response object ([dd13f3f](https://github.com/CoachingCloud/automated-push-content/commit/dd13f3f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add api 'move chapter position within a chapter' (/api/workbooks/1/chapters/3/move/<dest_pos_chapter>) ([7063bc0](https://github.com/CoachingCloud/automated-push-content/commit/7063bc0)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** add config for using lerna tool and yarn workspace ([f0ca848](https://github.com/CoachingCloud/automated-push-content/commit/f0ca848))
* **$server:** add constraint of unique display position for chapters within one workbook ([7d11532](https://github.com/CoachingCloud/automated-push-content/commit/7d11532))
* **$server:** add extra 'type_inspector' property in 'schema' property in json api response if 'schema' property is object type or array of objects type ([69d9c7f](https://github.com/CoachingCloud/automated-push-content/commit/69d9c7f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add included property in jsonapi response ([bc73c31](https://github.com/CoachingCloud/automated-push-content/commit/bc73c31)), closes [#122](https://github.com/CoachingCloud/automated-push-content/issues/122)
* **$server:** add option 'only_erase_database' in api /api/admin/generate_dummy_data ([472906a](https://github.com/CoachingCloud/automated-push-content/commit/472906a))
* **$server:** add POST /api/admin/create_admin_account ([ac8ffdb](https://github.com/CoachingCloud/automated-push-content/commit/ac8ffdb))
* **$server:** add tracking createdAt and updatedAt for all models, place them in meta field of single resource data ([a690389](https://github.com/CoachingCloud/automated-push-content/commit/a690389)), closes [#126](https://github.com/CoachingCloud/automated-push-content/issues/126)
* **$server:** add validation on uploading files for item ([7cf8261](https://github.com/CoachingCloud/automated-push-content/commit/7cf8261))
* **$server:** add X-Request-ID in HTTP header ([fe66e65](https://github.com/CoachingCloud/automated-push-content/commit/fe66e65)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** allow update a part (rather than entire) in tree position levels starting from workbook - chapter(s) - page(s) - item(s) ([21b9efb](https://github.com/CoachingCloud/automated-push-content/commit/21b9efb)), closes [#44](https://github.com/CoachingCloud/automated-push-content/issues/44)
* **$server:** attach common style attributes for all items ([6e77a92](https://github.com/CoachingCloud/automated-push-content/commit/6e77a92))
* **$server:** attach request_id in log record and change format in errorLogger.js ([73ff0a8](https://github.com/CoachingCloud/automated-push-content/commit/73ff0a8)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** automatic sharing workbook ([b97d9ab](https://github.com/CoachingCloud/automated-push-content/commit/b97d9ab)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** by default, add default style attribute value into item if this item is missing any of required style attributes are associated with its item type ([5f77214](https://github.com/CoachingCloud/automated-push-content/commit/5f77214))
* **$server:** change host domain of image reflected to 'cc-source' in http header ([821c954](https://github.com/CoachingCloud/automated-push-content/commit/821c954))
* **$server:** change uuid to cuid because uuid cause problems when the ID generation is distributed between lots of machines in the same millisecond ([f0bf0cc](https://github.com/CoachingCloud/automated-push-content/commit/f0bf0cc)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** clone current api docs website for client side in order to deploy a new instance of docs website for server side ([a686a73](https://github.com/CoachingCloud/automated-push-content/commit/a686a73))
* **$server:** create abstract function of MOVING position, support move position of dynamic model including a chapter/page/item ([4e99ab9](https://github.com/CoachingCloud/automated-push-content/commit/4e99ab9)), closes [#129](https://github.com/CoachingCloud/automated-push-content/issues/129)
* **$server:** declare admin model ([be07177](https://github.com/CoachingCloud/automated-push-content/commit/be07177))
* **$server:** define a mixin that handles 'deleteById' operation hook ([abf7464](https://github.com/CoachingCloud/automated-push-content/commit/abf7464)), closes [#144](https://github.com/CoachingCloud/automated-push-content/issues/144)
* **$server:** define abstract 'util' model and create common class for handling upload file of all target models ([4b7f10b](https://github.com/CoachingCloud/automated-push-content/commit/4b7f10b)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** define validation rules of 'boolean' type and 'array' type using when creating a new item attribute ([447ded1](https://github.com/CoachingCloud/automated-push-content/commit/447ded1))
* **$server:** enable image converting process in `upload file` API. The response will contains URLs of original file along with desktop version file and mobile version file ([89dfe03](https://github.com/CoachingCloud/automated-push-content/commit/89dfe03))
* **$server:** enable item attributes' validation on POST /api/pages/{page_id}/items ([754364b](https://github.com/CoachingCloud/automated-push-content/commit/754364b))
* **$server:** generate dummy data for 'image' item and 'video' item + add 'display_index' field in response ([f2bbdef](https://github.com/CoachingCloud/automated-push-content/commit/f2bbdef)), closes [#70](https://github.com/CoachingCloud/automated-push-content/issues/70)
* **$server:** implement 'move_position' service ([a41b13e](https://github.com/CoachingCloud/automated-push-content/commit/a41b13e))
* **$server:** implement 'move_position' service that support batch moving many positions at a time ([d3907cd](https://github.com/CoachingCloud/automated-push-content/commit/d3907cd))
* **$server:** implement api 'Create new item at specific position in a page' ([523e43e](https://github.com/CoachingCloud/automated-push-content/commit/523e43e)), closes [#131](https://github.com/CoachingCloud/automated-push-content/issues/131)
* **$server:** implement api 'duplicate an item in a page' ([f1f7d4a](https://github.com/CoachingCloud/automated-push-content/commit/f1f7d4a)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** implement api 'moving position of a page/item within a corresponding chapter/page' ([6f7cf05](https://github.com/CoachingCloud/automated-push-content/commit/6f7cf05))
* **$server:** implement async/await for generating dummy data functions ([a1d785a](https://github.com/CoachingCloud/automated-push-content/commit/a1d785a)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** implement search API on workbook title/description ([8a04a9e](https://github.com/CoachingCloud/automated-push-content/commit/8a04a9e))
* **$server:** in page.js, define function subscribe Page.beforeRemote('prototype.__create__items'...) for handling POST api/pages/<page_id>/items API ([d99176b](https://github.com/CoachingCloud/automated-push-content/commit/d99176b))
* **$server:** in upload file api, add supporting upload raw file (not belong to any object like an item/ a workbook) and return raw file url ([aec38c4](https://github.com/CoachingCloud/automated-push-content/commit/aec38c4)), closes [#140](https://github.com/CoachingCloud/automated-push-content/issues/140)
* **$server:** init rabbitmq service ([e2365b6](https://github.com/CoachingCloud/automated-push-content/commit/e2365b6))
* **$server:** multiple polymorphic relations are library and workbook, user and workbook via workbook_owner model ([69faf67](https://github.com/CoachingCloud/automated-push-content/commit/69faf67))
* **$server:** Redefine one-many relationship between each pair as workbook-chapter-page ([0eead63](https://github.com/CoachingCloud/automated-push-content/commit/0eead63)), closes [#49](https://github.com/CoachingCloud/automated-push-content/issues/49)
* **$server:** replaced by hot fix code after installing npm modules in install_npm_modules.js ([7322437](https://github.com/CoachingCloud/automated-push-content/commit/7322437))
* **$server:** search in hierarchical data, applied for competency keywords ([accb2b4](https://github.com/CoachingCloud/automated-push-content/commit/accb2b4))
* **$server:** set timestamp data ([c0c948a](https://github.com/CoachingCloud/automated-push-content/commit/c0c948a))
* **$server:** setup workbook model ([d8c14f7](https://github.com/CoachingCloud/automated-push-content/commit/d8c14f7)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** sharing workbook feature ([85c3da8](https://github.com/CoachingCloud/automated-push-content/commit/85c3da8)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** support 'reset_al' option in /api/admin/create_dummy_data enable to reset all built-in models ([b021e8d](https://github.com/CoachingCloud/automated-push-content/commit/b021e8d))
* **$server:** support calculate meta fields (total items, total pages, etc) from level 2 query ([b5707d9](https://github.com/CoachingCloud/automated-push-content/commit/b5707d9))
* **$server:** support determine attribute_id as 'fieldname' in upload file property ([893968f](https://github.com/CoachingCloud/automated-push-content/commit/893968f))
* **$server:** support override property value in source item in api 'duplicate an item in a page' ([cc872f4](https://github.com/CoachingCloud/automated-push-content/commit/cc872f4)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** support passing item attributes as query params and upload file(s) when call api of creating an item ([92c7fe3](https://github.com/CoachingCloud/automated-push-content/commit/92c7fe3))
* **$server:** support query user owner of a workbook. It just support via /workbook/:id/user but via include[filter]=user, so it will need to improve later ([6282b29](https://github.com/CoachingCloud/automated-push-content/commit/6282b29))
* **$server:** support to receive additional metadata fields in upload file req ([60120f6](https://github.com/CoachingCloud/automated-push-content/commit/60120f6))
* **$server:** support transform file name to file URL for an array of items in response ([9298736](https://github.com/CoachingCloud/automated-push-content/commit/9298736))
* **$server:** swap chapter position within a workbook, for example /api/workbooks/1/chapters/3/swap/4 ([5004466](https://github.com/CoachingCloud/automated-push-content/commit/5004466)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** write script to generate large number of dummy items for developing and testing purpose ([29ddff7](https://github.com/CoachingCloud/automated-push-content/commit/29ddff7)), closes [#45](https://github.com/CoachingCloud/automated-push-content/issues/45)





# 1.2.0 (2019-05-20)


### Bug Fixes

* **$server:** add dummy relation 'item_type_attribute' data for 'image' item and 'video' item ([28003ca](https://github.com/CoachingCloud/automated-push-content/commit/28003ca))
* **$server:** add guard to ensure only apply hot fix code once, fix issue caused by shallow copy when create sub context in jsonApiFormatter.js ([252d8c8](https://github.com/CoachingCloud/automated-push-content/commit/252d8c8))
* **$server:** add logger lib in mixin ([7d410f6](https://github.com/CoachingCloud/automated-push-content/commit/7d410f6))
* **$server:** add rules eslint and refactor code ([383b31f](https://github.com/CoachingCloud/automated-push-content/commit/383b31f))
* **$server:** add unique constraint for the relation of item_typeId and attributeId in model 'item_attribute_template' ([0ab2436](https://github.com/CoachingCloud/automated-push-content/commit/0ab2436))
* **$server:** combine all functions about uploading file into one file controllers/upload/uploadFile.js and fix multer issue ([146e3da](https://github.com/CoachingCloud/automated-push-content/commit/146e3da)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** convert charset and collation of database, 'item' table and 'item_attributes' column to 'utf8mb4' in order to allow containing unicode character has length greater than 3 bytes. ([f05772e](https://github.com/CoachingCloud/automated-push-content/commit/f05772e))
* **$server:** convert image file name to image url in Library.afterRemote('*.__get__workbooks') ([09186f8](https://github.com/CoachingCloud/automated-push-content/commit/09186f8))
* **$server:** declare 'library' model has HasManyThrough polymorphic relation with 'workbook' model via intervening model is 'library_workbook' ([4fcf5b3](https://github.com/CoachingCloud/automated-push-content/commit/4fcf5b3))
* **$server:** docker build issue ([7afac19](https://github.com/CoachingCloud/automated-push-content/commit/7afac19))
* **$server:** error 'Duplicate item_idx key in page_item model when creating a new item' ([cf55539](https://github.com/CoachingCloud/automated-push-content/commit/cf55539))
* **$server:** fix 'support calculate meta fields (total items, total pages, etc) from level 2 query'. Switch to use sharedMethod instead ([98cf33c](https://github.com/CoachingCloud/automated-push-content/commit/98cf33c))
* **$server:** fix error when deep copy of array of objects are kind of function ([1e07ffc](https://github.com/CoachingCloud/automated-push-content/commit/1e07ffc))
* **$server:** fix error when resonpse message contain data property is an error type + fix error 'unable to determine primary resource if query collection resources' ([001fb13](https://github.com/CoachingCloud/automated-push-content/commit/001fb13))
* **$server:** Fix issue 'call unstable between internal and public API URL in service worker ([2540797](https://github.com/CoachingCloud/automated-push-content/commit/2540797)), closes [#255](https://github.com/CoachingCloud/automated-push-content/issues/255)
* **$server:** fix issue 'Can not create a chapter in a workbook due to duplicate display_index key' ([9538bba](https://github.com/CoachingCloud/automated-push-content/commit/9538bba))
* **$server:** fix issue 'unable query target model in hasManyThrough relationship' ([ce550bd](https://github.com/CoachingCloud/automated-push-content/commit/ce550bd))
* **$server:** fix issue in upload api ([bbf6917](https://github.com/CoachingCloud/automated-push-content/commit/bbf6917))
* **$server:** fix issues ([f408b53](https://github.com/CoachingCloud/automated-push-content/commit/f408b53))
* **$server:** handle if passing model name instead of model instance in many-to-many.fixtures.js ([d6913a0](https://github.com/CoachingCloud/automated-push-content/commit/d6913a0))
* **$server:** handle issue if unable to transform file name to file url ([3770bd4](https://github.com/CoachingCloud/automated-push-content/commit/3770bd4))
* **$server:** hot fix issue 'unsupport filter query of hasMany polymorphic relation' ([7609017](https://github.com/CoachingCloud/automated-push-content/commit/7609017)), closes [#123](https://github.com/CoachingCloud/automated-push-content/issues/123)
* **$server:** hot fix issue missing one slash after host url ([954801e](https://github.com/CoachingCloud/automated-push-content/commit/954801e))
* **$server:** issue 'unable to set up the relationship between item and page' ([1d8d3a2](https://github.com/CoachingCloud/automated-push-content/commit/1d8d3a2))
* **$server:** Issue duplicate query item's attributes when calling api query list of items has 'limit' filter parameter ([8cebae4](https://github.com/CoachingCloud/automated-push-content/commit/8cebae4)), closes [#141](https://github.com/CoachingCloud/automated-push-content/issues/141)
* **$server:** lock version of loopback packages ([728a521](https://github.com/CoachingCloud/automated-push-content/commit/728a521))
* **$server:** miss converting env value from string to number when reading in .env file ([478aa14](https://github.com/CoachingCloud/automated-push-content/commit/478aa14))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([bb6a548](https://github.com/CoachingCloud/automated-push-content/commit/bb6a548))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([a67861a](https://github.com/CoachingCloud/automated-push-content/commit/a67861a))
* **$server:** receive uploaded filename via req.files instead of using global variable in callback function ([a886d86](https://github.com/CoachingCloud/automated-push-content/commit/a886d86))
* **$server:** remove User built-in model, replace by custom user model ([dc116ab](https://github.com/CoachingCloud/automated-push-content/commit/dc116ab))
* **$server:** script generating dummy data ([94b8362](https://github.com/CoachingCloud/automated-push-content/commit/94b8362))
* **$server:** setup to deny unauthenticated requests to /api/users/me as default ([22ca6b3](https://github.com/CoachingCloud/automated-push-content/commit/22ca6b3))
* **$server:** transform base file name to relative file path ([0c5c17a](https://github.com/CoachingCloud/automated-push-content/commit/0c5c17a))
* **$server:** use new Map() for fixed list of item_types and attributes to maintain the order of elements in list ([d9f23e0](https://github.com/CoachingCloud/automated-push-content/commit/d9f23e0))


### Features

* **$server:** accept random pattern is an array of data object (apply for 'item' model) ([11c4b96](https://github.com/CoachingCloud/automated-push-content/commit/11c4b96)), closes [#109](https://github.com/CoachingCloud/automated-push-content/issues/109)
* **$server:** add 'cc_hook_options' object in oder to pass options between remote hook and operation hook ([11562f6](https://github.com/CoachingCloud/automated-push-content/commit/11562f6))
* **$server:** add 'is_active=true' filter query in GET requests as default ([2cd21ab](https://github.com/CoachingCloud/automated-push-content/commit/2cd21ab)), closes [#148](https://github.com/CoachingCloud/automated-push-content/issues/148)
* **$server:** add 'number_records' option in /api/admin/generate_dummy_data ([8e49d64](https://github.com/CoachingCloud/automated-push-content/commit/8e49d64))
* **$server:** add additional 'attribute' object's fields (code, label, data_type) in 'item_attributes' property in 'item' http response object ([dd13f3f](https://github.com/CoachingCloud/automated-push-content/commit/dd13f3f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add api 'move chapter position within a chapter' (/api/workbooks/1/chapters/3/move/<dest_pos_chapter>) ([7063bc0](https://github.com/CoachingCloud/automated-push-content/commit/7063bc0)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** add config for using lerna tool and yarn workspace ([f0ca848](https://github.com/CoachingCloud/automated-push-content/commit/f0ca848))
* **$server:** add constraint of unique display position for chapters within one workbook ([7d11532](https://github.com/CoachingCloud/automated-push-content/commit/7d11532))
* **$server:** add extra 'type_inspector' property in 'schema' property in json api response if 'schema' property is object type or array of objects type ([69d9c7f](https://github.com/CoachingCloud/automated-push-content/commit/69d9c7f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add included property in jsonapi response ([bc73c31](https://github.com/CoachingCloud/automated-push-content/commit/bc73c31)), closes [#122](https://github.com/CoachingCloud/automated-push-content/issues/122)
* **$server:** add option 'only_erase_database' in api /api/admin/generate_dummy_data ([472906a](https://github.com/CoachingCloud/automated-push-content/commit/472906a))
* **$server:** add POST /api/admin/create_admin_account ([ac8ffdb](https://github.com/CoachingCloud/automated-push-content/commit/ac8ffdb))
* **$server:** add tracking createdAt and updatedAt for all models, place them in meta field of single resource data ([a690389](https://github.com/CoachingCloud/automated-push-content/commit/a690389)), closes [#126](https://github.com/CoachingCloud/automated-push-content/issues/126)
* **$server:** add validation on uploading files for item ([7cf8261](https://github.com/CoachingCloud/automated-push-content/commit/7cf8261))
* **$server:** add X-Request-ID in HTTP header ([fe66e65](https://github.com/CoachingCloud/automated-push-content/commit/fe66e65)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** allow update a part (rather than entire) in tree position levels starting from workbook - chapter(s) - page(s) - item(s) ([21b9efb](https://github.com/CoachingCloud/automated-push-content/commit/21b9efb)), closes [#44](https://github.com/CoachingCloud/automated-push-content/issues/44)
* **$server:** attach common style attributes for all items ([6e77a92](https://github.com/CoachingCloud/automated-push-content/commit/6e77a92))
* **$server:** attach request_id in log record and change format in errorLogger.js ([73ff0a8](https://github.com/CoachingCloud/automated-push-content/commit/73ff0a8)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** automatic sharing workbook ([b97d9ab](https://github.com/CoachingCloud/automated-push-content/commit/b97d9ab)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** by default, add default style attribute value into item if this item is missing any of required style attributes are associated with its item type ([5f77214](https://github.com/CoachingCloud/automated-push-content/commit/5f77214))
* **$server:** change host domain of image reflected to 'cc-source' in http header ([821c954](https://github.com/CoachingCloud/automated-push-content/commit/821c954))
* **$server:** change uuid to cuid because uuid cause problems when the ID generation is distributed between lots of machines in the same millisecond ([f0bf0cc](https://github.com/CoachingCloud/automated-push-content/commit/f0bf0cc)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** clone current api docs website for client side in order to deploy a new instance of docs website for server side ([a686a73](https://github.com/CoachingCloud/automated-push-content/commit/a686a73))
* **$server:** create abstract function of MOVING position, support move position of dynamic model including a chapter/page/item ([4e99ab9](https://github.com/CoachingCloud/automated-push-content/commit/4e99ab9)), closes [#129](https://github.com/CoachingCloud/automated-push-content/issues/129)
* **$server:** declare admin model ([be07177](https://github.com/CoachingCloud/automated-push-content/commit/be07177))
* **$server:** define a mixin that handles 'deleteById' operation hook ([abf7464](https://github.com/CoachingCloud/automated-push-content/commit/abf7464)), closes [#144](https://github.com/CoachingCloud/automated-push-content/issues/144)
* **$server:** define abstract 'util' model and create common class for handling upload file of all target models ([4b7f10b](https://github.com/CoachingCloud/automated-push-content/commit/4b7f10b)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** define validation rules of 'boolean' type and 'array' type using when creating a new item attribute ([447ded1](https://github.com/CoachingCloud/automated-push-content/commit/447ded1))
* **$server:** enable image converting process in `upload file` API. The response will contains URLs of original file along with desktop version file and mobile version file ([89dfe03](https://github.com/CoachingCloud/automated-push-content/commit/89dfe03))
* **$server:** enable item attributes' validation on POST /api/pages/{page_id}/items ([754364b](https://github.com/CoachingCloud/automated-push-content/commit/754364b))
* **$server:** generate dummy data for 'image' item and 'video' item + add 'display_index' field in response ([f2bbdef](https://github.com/CoachingCloud/automated-push-content/commit/f2bbdef)), closes [#70](https://github.com/CoachingCloud/automated-push-content/issues/70)
* **$server:** implement 'move_position' service ([a41b13e](https://github.com/CoachingCloud/automated-push-content/commit/a41b13e))
* **$server:** implement 'move_position' service that support batch moving many positions at a time ([d3907cd](https://github.com/CoachingCloud/automated-push-content/commit/d3907cd))
* **$server:** implement api 'Create new item at specific position in a page' ([523e43e](https://github.com/CoachingCloud/automated-push-content/commit/523e43e)), closes [#131](https://github.com/CoachingCloud/automated-push-content/issues/131)
* **$server:** implement api 'duplicate an item in a page' ([f1f7d4a](https://github.com/CoachingCloud/automated-push-content/commit/f1f7d4a)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** implement api 'moving position of a page/item within a corresponding chapter/page' ([6f7cf05](https://github.com/CoachingCloud/automated-push-content/commit/6f7cf05))
* **$server:** implement async/await for generating dummy data functions ([a1d785a](https://github.com/CoachingCloud/automated-push-content/commit/a1d785a)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** implement search API on workbook title/description ([8a04a9e](https://github.com/CoachingCloud/automated-push-content/commit/8a04a9e))
* **$server:** in page.js, define function subscribe Page.beforeRemote('prototype.__create__items'...) for handling POST api/pages/<page_id>/items API ([d99176b](https://github.com/CoachingCloud/automated-push-content/commit/d99176b))
* **$server:** in upload file api, add supporting upload raw file (not belong to any object like an item/ a workbook) and return raw file url ([aec38c4](https://github.com/CoachingCloud/automated-push-content/commit/aec38c4)), closes [#140](https://github.com/CoachingCloud/automated-push-content/issues/140)
* **$server:** init rabbitmq service ([e2365b6](https://github.com/CoachingCloud/automated-push-content/commit/e2365b6))
* **$server:** multiple polymorphic relations are library and workbook, user and workbook via workbook_owner model ([69faf67](https://github.com/CoachingCloud/automated-push-content/commit/69faf67))
* **$server:** Redefine one-many relationship between each pair as workbook-chapter-page ([0eead63](https://github.com/CoachingCloud/automated-push-content/commit/0eead63)), closes [#49](https://github.com/CoachingCloud/automated-push-content/issues/49)
* **$server:** replaced by hot fix code after installing npm modules in install_npm_modules.js ([7322437](https://github.com/CoachingCloud/automated-push-content/commit/7322437))
* **$server:** search in hierarchical data, applied for competency keywords ([accb2b4](https://github.com/CoachingCloud/automated-push-content/commit/accb2b4))
* **$server:** set timestamp data ([c0c948a](https://github.com/CoachingCloud/automated-push-content/commit/c0c948a))
* **$server:** setup workbook model ([d8c14f7](https://github.com/CoachingCloud/automated-push-content/commit/d8c14f7)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** sharing workbook feature ([85c3da8](https://github.com/CoachingCloud/automated-push-content/commit/85c3da8)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** support 'reset_al' option in /api/admin/create_dummy_data enable to reset all built-in models ([b021e8d](https://github.com/CoachingCloud/automated-push-content/commit/b021e8d))
* **$server:** support calculate meta fields (total items, total pages, etc) from level 2 query ([b5707d9](https://github.com/CoachingCloud/automated-push-content/commit/b5707d9))
* **$server:** support determine attribute_id as 'fieldname' in upload file property ([893968f](https://github.com/CoachingCloud/automated-push-content/commit/893968f))
* **$server:** support override property value in source item in api 'duplicate an item in a page' ([cc872f4](https://github.com/CoachingCloud/automated-push-content/commit/cc872f4)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** support passing item attributes as query params and upload file(s) when call api of creating an item ([92c7fe3](https://github.com/CoachingCloud/automated-push-content/commit/92c7fe3))
* **$server:** support query user owner of a workbook. It just support via /workbook/:id/user but via include[filter]=user, so it will need to improve later ([6282b29](https://github.com/CoachingCloud/automated-push-content/commit/6282b29))
* **$server:** support to receive additional metadata fields in upload file req ([60120f6](https://github.com/CoachingCloud/automated-push-content/commit/60120f6))
* **$server:** support transform file name to file URL for an array of items in response ([9298736](https://github.com/CoachingCloud/automated-push-content/commit/9298736))
* **$server:** swap chapter position within a workbook, for example /api/workbooks/1/chapters/3/swap/4 ([5004466](https://github.com/CoachingCloud/automated-push-content/commit/5004466)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** write script to generate large number of dummy items for developing and testing purpose ([29ddff7](https://github.com/CoachingCloud/automated-push-content/commit/29ddff7)), closes [#45](https://github.com/CoachingCloud/automated-push-content/issues/45)





# 1.1.0 (2019-05-20)


### Bug Fixes

* **$server:** add dummy relation 'item_type_attribute' data for 'image' item and 'video' item ([28003ca](https://github.com/CoachingCloud/automated-push-content/commit/28003ca))
* **$server:** add guard to ensure only apply hot fix code once, fix issue caused by shallow copy when create sub context in jsonApiFormatter.js ([252d8c8](https://github.com/CoachingCloud/automated-push-content/commit/252d8c8))
* **$server:** add logger lib in mixin ([7d410f6](https://github.com/CoachingCloud/automated-push-content/commit/7d410f6))
* **$server:** add rules eslint and refactor code ([383b31f](https://github.com/CoachingCloud/automated-push-content/commit/383b31f))
* **$server:** add unique constraint for the relation of item_typeId and attributeId in model 'item_attribute_template' ([0ab2436](https://github.com/CoachingCloud/automated-push-content/commit/0ab2436))
* **$server:** combine all functions about uploading file into one file controllers/upload/uploadFile.js and fix multer issue ([146e3da](https://github.com/CoachingCloud/automated-push-content/commit/146e3da)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** convert charset and collation of database, 'item' table and 'item_attributes' column to 'utf8mb4' in order to allow containing unicode character has length greater than 3 bytes. ([f05772e](https://github.com/CoachingCloud/automated-push-content/commit/f05772e))
* **$server:** convert image file name to image url in Library.afterRemote('*.__get__workbooks') ([09186f8](https://github.com/CoachingCloud/automated-push-content/commit/09186f8))
* **$server:** declare 'library' model has HasManyThrough polymorphic relation with 'workbook' model via intervening model is 'library_workbook' ([4fcf5b3](https://github.com/CoachingCloud/automated-push-content/commit/4fcf5b3))
* **$server:** docker build issue ([7afac19](https://github.com/CoachingCloud/automated-push-content/commit/7afac19))
* **$server:** error 'Duplicate item_idx key in page_item model when creating a new item' ([cf55539](https://github.com/CoachingCloud/automated-push-content/commit/cf55539))
* **$server:** fix 'support calculate meta fields (total items, total pages, etc) from level 2 query'. Switch to use sharedMethod instead ([98cf33c](https://github.com/CoachingCloud/automated-push-content/commit/98cf33c))
* **$server:** fix error when deep copy of array of objects are kind of function ([1e07ffc](https://github.com/CoachingCloud/automated-push-content/commit/1e07ffc))
* **$server:** fix error when resonpse message contain data property is an error type + fix error 'unable to determine primary resource if query collection resources' ([001fb13](https://github.com/CoachingCloud/automated-push-content/commit/001fb13))
* **$server:** Fix issue 'call unstable between internal and public API URL in service worker ([2540797](https://github.com/CoachingCloud/automated-push-content/commit/2540797)), closes [#255](https://github.com/CoachingCloud/automated-push-content/issues/255)
* **$server:** fix issue 'Can not create a chapter in a workbook due to duplicate display_index key' ([9538bba](https://github.com/CoachingCloud/automated-push-content/commit/9538bba))
* **$server:** fix issue 'unable query target model in hasManyThrough relationship' ([ce550bd](https://github.com/CoachingCloud/automated-push-content/commit/ce550bd))
* **$server:** fix issue in upload api ([bbf6917](https://github.com/CoachingCloud/automated-push-content/commit/bbf6917))
* **$server:** fix issues ([f408b53](https://github.com/CoachingCloud/automated-push-content/commit/f408b53))
* **$server:** handle if passing model name instead of model instance in many-to-many.fixtures.js ([d6913a0](https://github.com/CoachingCloud/automated-push-content/commit/d6913a0))
* **$server:** handle issue if unable to transform file name to file url ([3770bd4](https://github.com/CoachingCloud/automated-push-content/commit/3770bd4))
* **$server:** hot fix issue 'unsupport filter query of hasMany polymorphic relation' ([7609017](https://github.com/CoachingCloud/automated-push-content/commit/7609017)), closes [#123](https://github.com/CoachingCloud/automated-push-content/issues/123)
* **$server:** hot fix issue missing one slash after host url ([954801e](https://github.com/CoachingCloud/automated-push-content/commit/954801e))
* **$server:** issue 'unable to set up the relationship between item and page' ([1d8d3a2](https://github.com/CoachingCloud/automated-push-content/commit/1d8d3a2))
* **$server:** Issue duplicate query item's attributes when calling api query list of items has 'limit' filter parameter ([8cebae4](https://github.com/CoachingCloud/automated-push-content/commit/8cebae4)), closes [#141](https://github.com/CoachingCloud/automated-push-content/issues/141)
* **$server:** lock version of loopback packages ([728a521](https://github.com/CoachingCloud/automated-push-content/commit/728a521))
* **$server:** miss converting env value from string to number when reading in .env file ([478aa14](https://github.com/CoachingCloud/automated-push-content/commit/478aa14))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([bb6a548](https://github.com/CoachingCloud/automated-push-content/commit/bb6a548))
* **$server:** on model 'page', add relation 'page_items' in order to be able to access data in join table 'page_item' ([a67861a](https://github.com/CoachingCloud/automated-push-content/commit/a67861a))
* **$server:** receive uploaded filename via req.files instead of using global variable in callback function ([a886d86](https://github.com/CoachingCloud/automated-push-content/commit/a886d86))
* **$server:** remove User built-in model, replace by custom user model ([dc116ab](https://github.com/CoachingCloud/automated-push-content/commit/dc116ab))
* **$server:** script generating dummy data ([94b8362](https://github.com/CoachingCloud/automated-push-content/commit/94b8362))
* **$server:** setup to deny unauthenticated requests to /api/users/me as default ([22ca6b3](https://github.com/CoachingCloud/automated-push-content/commit/22ca6b3))
* **$server:** transform base file name to relative file path ([0c5c17a](https://github.com/CoachingCloud/automated-push-content/commit/0c5c17a))
* **$server:** use new Map() for fixed list of item_types and attributes to maintain the order of elements in list ([d9f23e0](https://github.com/CoachingCloud/automated-push-content/commit/d9f23e0))


### Features

* **$server:** accept random pattern is an array of data object (apply for 'item' model) ([11c4b96](https://github.com/CoachingCloud/automated-push-content/commit/11c4b96)), closes [#109](https://github.com/CoachingCloud/automated-push-content/issues/109)
* **$server:** add 'cc_hook_options' object in oder to pass options between remote hook and operation hook ([11562f6](https://github.com/CoachingCloud/automated-push-content/commit/11562f6))
* **$server:** add 'is_active=true' filter query in GET requests as default ([2cd21ab](https://github.com/CoachingCloud/automated-push-content/commit/2cd21ab)), closes [#148](https://github.com/CoachingCloud/automated-push-content/issues/148)
* **$server:** add 'number_records' option in /api/admin/generate_dummy_data ([8e49d64](https://github.com/CoachingCloud/automated-push-content/commit/8e49d64))
* **$server:** add additional 'attribute' object's fields (code, label, data_type) in 'item_attributes' property in 'item' http response object ([dd13f3f](https://github.com/CoachingCloud/automated-push-content/commit/dd13f3f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add api 'move chapter position within a chapter' (/api/workbooks/1/chapters/3/move/<dest_pos_chapter>) ([7063bc0](https://github.com/CoachingCloud/automated-push-content/commit/7063bc0)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** add config for using lerna tool and yarn workspace ([f0ca848](https://github.com/CoachingCloud/automated-push-content/commit/f0ca848))
* **$server:** add constraint of unique display position for chapters within one workbook ([7d11532](https://github.com/CoachingCloud/automated-push-content/commit/7d11532))
* **$server:** add extra 'type_inspector' property in 'schema' property in json api response if 'schema' property is object type or array of objects type ([69d9c7f](https://github.com/CoachingCloud/automated-push-content/commit/69d9c7f)), closes [#139](https://github.com/CoachingCloud/automated-push-content/issues/139)
* **$server:** add included property in jsonapi response ([bc73c31](https://github.com/CoachingCloud/automated-push-content/commit/bc73c31)), closes [#122](https://github.com/CoachingCloud/automated-push-content/issues/122)
* **$server:** add option 'only_erase_database' in api /api/admin/generate_dummy_data ([472906a](https://github.com/CoachingCloud/automated-push-content/commit/472906a))
* **$server:** add POST /api/admin/create_admin_account ([ac8ffdb](https://github.com/CoachingCloud/automated-push-content/commit/ac8ffdb))
* **$server:** add tracking createdAt and updatedAt for all models, place them in meta field of single resource data ([a690389](https://github.com/CoachingCloud/automated-push-content/commit/a690389)), closes [#126](https://github.com/CoachingCloud/automated-push-content/issues/126)
* **$server:** add validation on uploading files for item ([7cf8261](https://github.com/CoachingCloud/automated-push-content/commit/7cf8261))
* **$server:** add X-Request-ID in HTTP header ([fe66e65](https://github.com/CoachingCloud/automated-push-content/commit/fe66e65)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** allow update a part (rather than entire) in tree position levels starting from workbook - chapter(s) - page(s) - item(s) ([21b9efb](https://github.com/CoachingCloud/automated-push-content/commit/21b9efb)), closes [#44](https://github.com/CoachingCloud/automated-push-content/issues/44)
* **$server:** attach common style attributes for all items ([6e77a92](https://github.com/CoachingCloud/automated-push-content/commit/6e77a92))
* **$server:** attach request_id in log record and change format in errorLogger.js ([73ff0a8](https://github.com/CoachingCloud/automated-push-content/commit/73ff0a8)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** automatic sharing workbook ([b97d9ab](https://github.com/CoachingCloud/automated-push-content/commit/b97d9ab)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** by default, add default style attribute value into item if this item is missing any of required style attributes are associated with its item type ([5f77214](https://github.com/CoachingCloud/automated-push-content/commit/5f77214))
* **$server:** change host domain of image reflected to 'cc-source' in http header ([821c954](https://github.com/CoachingCloud/automated-push-content/commit/821c954))
* **$server:** change uuid to cuid because uuid cause problems when the ID generation is distributed between lots of machines in the same millisecond ([f0bf0cc](https://github.com/CoachingCloud/automated-push-content/commit/f0bf0cc)), closes [#154](https://github.com/CoachingCloud/automated-push-content/issues/154)
* **$server:** clone current api docs website for client side in order to deploy a new instance of docs website for server side ([a686a73](https://github.com/CoachingCloud/automated-push-content/commit/a686a73))
* **$server:** create abstract function of MOVING position, support move position of dynamic model including a chapter/page/item ([4e99ab9](https://github.com/CoachingCloud/automated-push-content/commit/4e99ab9)), closes [#129](https://github.com/CoachingCloud/automated-push-content/issues/129)
* **$server:** declare admin model ([be07177](https://github.com/CoachingCloud/automated-push-content/commit/be07177))
* **$server:** define a mixin that handles 'deleteById' operation hook ([abf7464](https://github.com/CoachingCloud/automated-push-content/commit/abf7464)), closes [#144](https://github.com/CoachingCloud/automated-push-content/issues/144)
* **$server:** define abstract 'util' model and create common class for handling upload file of all target models ([4b7f10b](https://github.com/CoachingCloud/automated-push-content/commit/4b7f10b)), closes [#138](https://github.com/CoachingCloud/automated-push-content/issues/138)
* **$server:** define validation rules of 'boolean' type and 'array' type using when creating a new item attribute ([447ded1](https://github.com/CoachingCloud/automated-push-content/commit/447ded1))
* **$server:** enable image converting process in `upload file` API. The response will contains URLs of original file along with desktop version file and mobile version file ([89dfe03](https://github.com/CoachingCloud/automated-push-content/commit/89dfe03))
* **$server:** enable item attributes' validation on POST /api/pages/{page_id}/items ([754364b](https://github.com/CoachingCloud/automated-push-content/commit/754364b))
* **$server:** generate dummy data for 'image' item and 'video' item + add 'display_index' field in response ([f2bbdef](https://github.com/CoachingCloud/automated-push-content/commit/f2bbdef)), closes [#70](https://github.com/CoachingCloud/automated-push-content/issues/70)
* **$server:** implement 'move_position' service ([a41b13e](https://github.com/CoachingCloud/automated-push-content/commit/a41b13e))
* **$server:** implement 'move_position' service that support batch moving many positions at a time ([d3907cd](https://github.com/CoachingCloud/automated-push-content/commit/d3907cd))
* **$server:** implement api 'Create new item at specific position in a page' ([523e43e](https://github.com/CoachingCloud/automated-push-content/commit/523e43e)), closes [#131](https://github.com/CoachingCloud/automated-push-content/issues/131)
* **$server:** implement api 'duplicate an item in a page' ([f1f7d4a](https://github.com/CoachingCloud/automated-push-content/commit/f1f7d4a)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** implement api 'moving position of a page/item within a corresponding chapter/page' ([6f7cf05](https://github.com/CoachingCloud/automated-push-content/commit/6f7cf05))
* **$server:** implement async/await for generating dummy data functions ([a1d785a](https://github.com/CoachingCloud/automated-push-content/commit/a1d785a)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** implement search API on workbook title/description ([8a04a9e](https://github.com/CoachingCloud/automated-push-content/commit/8a04a9e))
* **$server:** in page.js, define function subscribe Page.beforeRemote('prototype.__create__items'...) for handling POST api/pages/<page_id>/items API ([d99176b](https://github.com/CoachingCloud/automated-push-content/commit/d99176b))
* **$server:** in upload file api, add supporting upload raw file (not belong to any object like an item/ a workbook) and return raw file url ([aec38c4](https://github.com/CoachingCloud/automated-push-content/commit/aec38c4)), closes [#140](https://github.com/CoachingCloud/automated-push-content/issues/140)
* **$server:** init rabbitmq service ([e2365b6](https://github.com/CoachingCloud/automated-push-content/commit/e2365b6))
* **$server:** multiple polymorphic relations are library and workbook, user and workbook via workbook_owner model ([69faf67](https://github.com/CoachingCloud/automated-push-content/commit/69faf67))
* **$server:** Redefine one-many relationship between each pair as workbook-chapter-page ([0eead63](https://github.com/CoachingCloud/automated-push-content/commit/0eead63)), closes [#49](https://github.com/CoachingCloud/automated-push-content/issues/49)
* **$server:** replaced by hot fix code after installing npm modules in install_npm_modules.js ([7322437](https://github.com/CoachingCloud/automated-push-content/commit/7322437))
* **$server:** search in hierarchical data, applied for competency keywords ([accb2b4](https://github.com/CoachingCloud/automated-push-content/commit/accb2b4))
* **$server:** set timestamp data ([c0c948a](https://github.com/CoachingCloud/automated-push-content/commit/c0c948a))
* **$server:** setup workbook model ([d8c14f7](https://github.com/CoachingCloud/automated-push-content/commit/d8c14f7)), closes [#99](https://github.com/CoachingCloud/automated-push-content/issues/99)
* **$server:** sharing workbook feature ([85c3da8](https://github.com/CoachingCloud/automated-push-content/commit/85c3da8)), closes [#85](https://github.com/CoachingCloud/automated-push-content/issues/85)
* **$server:** support 'reset_al' option in /api/admin/create_dummy_data enable to reset all built-in models ([b021e8d](https://github.com/CoachingCloud/automated-push-content/commit/b021e8d))
* **$server:** support calculate meta fields (total items, total pages, etc) from level 2 query ([b5707d9](https://github.com/CoachingCloud/automated-push-content/commit/b5707d9))
* **$server:** support determine attribute_id as 'fieldname' in upload file property ([893968f](https://github.com/CoachingCloud/automated-push-content/commit/893968f))
* **$server:** support override property value in source item in api 'duplicate an item in a page' ([cc872f4](https://github.com/CoachingCloud/automated-push-content/commit/cc872f4)), closes [#132](https://github.com/CoachingCloud/automated-push-content/issues/132)
* **$server:** support passing item attributes as query params and upload file(s) when call api of creating an item ([92c7fe3](https://github.com/CoachingCloud/automated-push-content/commit/92c7fe3))
* **$server:** support query user owner of a workbook. It just support via /workbook/:id/user but via include[filter]=user, so it will need to improve later ([6282b29](https://github.com/CoachingCloud/automated-push-content/commit/6282b29))
* **$server:** support to receive additional metadata fields in upload file req ([60120f6](https://github.com/CoachingCloud/automated-push-content/commit/60120f6))
* **$server:** support transform file name to file URL for an array of items in response ([9298736](https://github.com/CoachingCloud/automated-push-content/commit/9298736))
* **$server:** swap chapter position within a workbook, for example /api/workbooks/1/chapters/3/swap/4 ([5004466](https://github.com/CoachingCloud/automated-push-content/commit/5004466)), closes [#127](https://github.com/CoachingCloud/automated-push-content/issues/127)
* **$server:** write script to generate large number of dummy items for developing and testing purpose ([29ddff7](https://github.com/CoachingCloud/automated-push-content/commit/29ddff7)), closes [#45](https://github.com/CoachingCloud/automated-push-content/issues/45)
